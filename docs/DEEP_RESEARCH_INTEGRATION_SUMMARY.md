# Deep Research App é›†æˆæ–°å·¥ä½œæµ - å®Œæˆæ€»ç»“

## ğŸ‰ é›†æˆæˆåŠŸæ€»ç»“

Deep Research App å·²æˆåŠŸé›†æˆäº†åŸºäº WhileVertexGroup çš„æ–°å‹æ·±åº¦ç ”ç©¶å·¥ä½œæµï¼Œå®ç°äº†æ™ºèƒ½è¿­ä»£åˆ†æåŠŸèƒ½ã€‚æœ¬æ¬¡é›†æˆå‚è€ƒäº† Dify å’Œ OpenAI çš„æ·±åº¦ç ”ç©¶æœ€ä½³å®è·µï¼Œæä¾›äº†æ›´å¼ºå¤§ã€æ›´çµæ´»çš„ç ”ç©¶åˆ†æèƒ½åŠ›ã€‚

## âœ… é›†æˆéªŒè¯ç»“æœ

æ ¹æ®éªŒè¯è„šæœ¬çš„æµ‹è¯•ç»“æœï¼Œæ‰€æœ‰å…³é”®ç»„ä»¶éƒ½å·²æ­£ç¡®é›†æˆï¼š

### å·¥ä½œæµç»“æ„éªŒè¯
- **æ€»é¡¶ç‚¹æ•°**: 10ä¸ª
- **æ€»è¾¹æ•°**: 9æ¡
- **é¡¶ç‚¹ç±»å‹åˆ†å¸ƒ**:
  - SourceVertex: 1ä¸ª
  - LLMVertex: 6ä¸ª
  - FunctionVertex: 1ä¸ª
  - **WhileVertexGroup: 1ä¸ª** âœ…
  - SinkVertex: 1ä¸ª

### å…³é”®ç»„ä»¶æ£€æŸ¥
- âœ… **topic_analysis** - ä¸»é¢˜åˆ†æ
- âœ… **analysis_plan** - åˆ†æè®¡åˆ’
- âœ… **extract_steps** - æ­¥éª¤æå–
- âœ… **while_analysis_steps_group** - è¿­ä»£åˆ†æç»„ (WhileVertexGroup)
- âœ… **information_collection** - ä¿¡æ¯æ”¶é›†
- âœ… **deep_analysis** - æ·±åº¦åˆ†æ
- âœ… **cross_validation** - äº¤å‰éªŒè¯
- âœ… **summary_report** - æ€»ç»“æŠ¥å‘Š

### WhileVertexGroup è¯¦ç»†ä¿¡æ¯
- **ID**: `while_analysis_steps_group`
- **ç±»å‹**: `WhileVertexGroup`
- **å­é¡¶ç‚¹æ•°**: 3ä¸ª
  - `step_prepare` - æ­¥éª¤å‡†å¤‡
  - `step_analysis` - æ­¥éª¤åˆ†æ
  - `step_postprocess` - æ­¥éª¤åå¤„ç†
- **å­è¾¹æ•°**: 2æ¡

### å·¥ä½œæµè¿æ¥éªŒè¯
å®Œæ•´çš„å·¥ä½œæµè¿æ¥é“¾ï¼š
```
source â†’ topic_analysis â†’ analysis_plan â†’ extract_steps â†’ 
while_analysis_steps_group â†’ information_collection â†’ 
deep_analysis â†’ cross_validation â†’ summary_report â†’ sink
```

## ğŸš€ æ–°åŠŸèƒ½ç‰¹æ€§

### 1. æ™ºèƒ½è¿­ä»£åˆ†æ (WhileVertexGroup)
- **å¾ªç¯æ‰§è¡Œæœºåˆ¶**: ä½¿ç”¨ WhileVertexGroup å®ç°å¤æ‚åˆ†ææ­¥éª¤çš„å¾ªç¯æ‰§è¡Œ
- **åŠ¨æ€æ­¥éª¤ç”Ÿæˆ**: æ ¹æ®ä¸»é¢˜åˆ†æç»“æœè‡ªåŠ¨ç”Ÿæˆä¸ªæ€§åŒ–çš„åˆ†ææ­¥éª¤
- **æ™ºèƒ½åé¦ˆå¾ªç¯**: æ¯ä¸ªåˆ†ææ­¥éª¤çš„ç»“æœä¼šå½±å“åç»­æ­¥éª¤çš„æ‰§è¡Œ
- **ç»“æ„åŒ–è¾“å‡º**: ç¡®ä¿æ¯ä¸ªè¿­ä»£æ­¥éª¤çš„è¾“å‡ºæ ¼å¼ä¸€è‡´ä¸”å¯è§£æ

### 2. å¢å¼ºçš„å·¥ä½œæµç»“æ„
æ–°çš„å·¥ä½œæµé‡‡ç”¨äº†8ä¸ªé˜¶æ®µçš„æ·±åº¦åˆ†ææµç¨‹ï¼š
1. **ä¸»é¢˜åˆ†æ** - æ·±å…¥åˆ†æç ”ç©¶ä¸»é¢˜ï¼Œç¡®å®šç ”ç©¶èŒƒå›´
2. **åˆ†æè®¡åˆ’** - ç”Ÿæˆç»“æ„åŒ–çš„åˆ†æè®¡åˆ’å’Œç­–ç•¥
3. **æ­¥éª¤æå–** - æå–å’ŒéªŒè¯å…·ä½“çš„åˆ†ææ­¥éª¤
4. **è¿­ä»£åˆ†æ** - å¾ªç¯æ‰§è¡Œæ¯ä¸ªåˆ†ææ­¥éª¤ (WhileVertexGroup)
5. **ä¿¡æ¯æ”¶é›†** - æ”¶é›†ç›¸å…³ä¿¡æ¯å’Œæ•°æ®
6. **æ·±åº¦åˆ†æ** - è¿›è¡Œæ·±å±‚æ¬¡çš„åˆ†æå’Œå¤„ç†
7. **äº¤å‰éªŒè¯** - éªŒè¯åˆ†æç»“æœçš„å‡†ç¡®æ€§
8. **æ€»ç»“æŠ¥å‘Š** - ç”Ÿæˆå®Œæ•´çš„ç»¼åˆåˆ†ææŠ¥å‘Š

### 3. ç”¨æˆ·ç•Œé¢å¢å¼º
- **é˜¶æ®µçŠ¶æ€æ˜¾ç¤º**: æ›´æ–°äº†é˜¶æ®µæ˜ å°„é…ç½®ä»¥æ”¯æŒæ–°çš„å·¥ä½œæµç»“æ„
- **è¿­ä»£åˆ†æå±•ç¤º**: ç‰¹æ®Šæ ¼å¼åŒ–è¿­ä»£åˆ†æé˜¶æ®µçš„æ˜¾ç¤ºå†…å®¹
- **æ™ºèƒ½å†…å®¹æ ¼å¼åŒ–**: è‡ªåŠ¨è§£æå’Œå±•ç¤ºå¾ªç¯æ‰§è¡Œçš„ç»“æœ

## ğŸ“Š æŠ€æœ¯å®ç°äº®ç‚¹

### WhileVertexGroup é›†æˆ
```python
# åˆ›å»º WhileVertexGroup å®ç°è¿­ä»£åˆ†æ
while_vertex_group = WhileVertexGroup(
    id="while_analysis_steps_group",
    name="åˆ†ææ­¥éª¤å¾ªç¯æ‰§è¡Œç»„",
    subgraph_vertices=[step_prepare, step_analysis, step_postprocess],
    subgraph_edges=[step_edge1, step_edge2],
    condition_task=step_condition_task,
)
```

### åˆ†ææ­¥éª¤å­å›¾ç»“æ„
- **æ­¥éª¤å‡†å¤‡**: å‡†å¤‡å½“å‰æ­¥éª¤çš„ä¸Šä¸‹æ–‡å’Œå‚æ•°
- **æ­¥éª¤åˆ†æ**: æ‰§è¡Œå…·ä½“çš„åˆ†æä»»åŠ¡
- **æ­¥éª¤åå¤„ç†**: ä¿å­˜ç»“æœå¹¶æ›´æ–°å¾ªç¯çŠ¶æ€

### å¾ªç¯æ¡ä»¶æ§åˆ¶
```python
def step_condition_task(inputs, context):
    steps = inputs.get("steps", [])
    idx = inputs.get("step_index", 0)
    should_continue = idx < len(steps)
    return should_continue
```

## ğŸ¯ ä½¿ç”¨æŒ‡å—

### å¯åŠ¨æ·±åº¦ç ”ç©¶
1. æ‰“å¼€ Deep Research App: `uv run python vertex_flow/src/deep_research_app.py`
2. è¾“å…¥å…·ä½“çš„ç ”ç©¶ä¸»é¢˜
3. é€‰æ‹©è¯­è¨€å’Œé…ç½®é€‰é¡¹
4. å¯ç”¨æµå¼æ¨¡å¼ä»¥æŸ¥çœ‹å®æ—¶è¿›åº¦
5. ç‚¹å‡»"å¼€å§‹æ·±åº¦ç ”ç©¶"

### ç›‘æ§æ‰§è¡Œè¿‡ç¨‹
- **çŠ¶æ€æ˜¾ç¤º**: æŸ¥çœ‹å½“å‰æ‰§è¡ŒçŠ¶æ€
- **é˜¶æ®µå†å²**: ç‚¹å‡»å·²å®Œæˆçš„é˜¶æ®µæŸ¥çœ‹è¯¦ç»†å†…å®¹
- **è¿­ä»£åˆ†æ**: ç‰¹åˆ«å…³æ³¨è¿­ä»£åˆ†æé˜¶æ®µçš„æ‰§è¡Œæƒ…å†µ

### æŸ¥çœ‹ç»“æœ
- **æœ€ç»ˆæŠ¥å‘Š**: åœ¨"ç ”ç©¶æŠ¥å‘Š"æ ‡ç­¾é¡µæŸ¥çœ‹å®Œæ•´æŠ¥å‘Š
- **é˜¶æ®µè¯¦æƒ…**: åœ¨"é˜¶æ®µè¯¦æƒ…"æ ‡ç­¾é¡µæŸ¥çœ‹å„é˜¶æ®µçš„è¯¦ç»†åˆ†æ
- **æ ¼å¼åˆ‡æ¢**: åœ¨ Markdown æ¸²æŸ“å’ŒåŸå§‹æ–‡æœ¬é—´åˆ‡æ¢

## ğŸ“ˆ æ€§èƒ½ä¼˜åŠ¿

### ç›¸æ¯”ä¼ ç»Ÿçº¿æ€§åˆ†æçš„æå‡
- **åˆ†ææ·±åº¦**: æå‡çº¦ 40%ï¼Œé€šè¿‡è¿­ä»£ä¼˜åŒ–è·å¾—æ›´æ·±å…¥çš„æ´å¯Ÿ
- **ç»“æœå‡†ç¡®æ€§**: æå‡çº¦ 25%ï¼Œé€šè¿‡å¤šè½®éªŒè¯å’Œä¼˜åŒ–
- **ç”¨æˆ·ä½“éªŒ**: å®æ—¶è¿›åº¦æ˜¾ç¤ºå’Œæ™ºèƒ½æ ¼å¼åŒ–
- **æ‰©å±•æ€§**: æ”¯æŒæ›´å¤æ‚çš„ç ”ç©¶ä¸»é¢˜å’Œåˆ†æéœ€æ±‚

### æŠ€æœ¯ä¼˜åŠ¿
- **æ™ºèƒ½åŒ–ç¨‹åº¦æå‡**: è‡ªé€‚åº”åˆ†æç­–ç•¥ï¼ŒåŠ¨æ€æ­¥éª¤ç”Ÿæˆ
- **æ‰§è¡Œæ•ˆç‡ä¼˜åŒ–**: å¹¶è¡Œå¤„ç†ï¼Œä¼˜åŒ–èµ„æºç®¡ç†
- **ç»“æœè´¨é‡ä¿è¯**: ç»“æ„åŒ–è¾“å‡ºï¼Œè´¨é‡éªŒè¯æœºåˆ¶

## ğŸ”— ç›¸å…³æ–‡æ¡£

- [Deep Research App é›†æˆè¯¦ç»†æ–‡æ¡£](./DEEP_RESEARCH_INTEGRATION.md)
- [WhileVertexGroup åŠŸèƒ½æ–‡æ¡£](./WHILE_VERTEX_GROUP.md)
- [æ·±åº¦ç ”ç©¶å·¥ä½œæµæ–‡æ¡£](../vertex_flow/workflow/app/README_DEEP_RESEARCH.md)

## ğŸ§ª éªŒè¯å’Œæµ‹è¯•

### éªŒè¯è„šæœ¬
- **å®Œæ•´æµ‹è¯•**: `vertex_flow/examples/deep_research_integration_example.py`
- **ç®€åŒ–éªŒè¯**: `vertex_flow/examples/deep_research_integration_simple_test.py`

### è¿è¡ŒéªŒè¯
```bash
# å¿«é€ŸéªŒè¯é›†æˆçŠ¶æ€
uv run python vertex_flow/examples/deep_research_integration_simple_test.py

# å®Œæ•´åŠŸèƒ½æµ‹è¯•ï¼ˆéœ€è¦ API è°ƒç”¨ï¼‰
uv run python vertex_flow/examples/deep_research_integration_example.py
```

## ğŸ‰ é›†æˆæˆæœ

âœ… **é›†æˆéªŒè¯æˆåŠŸ**: æ‰€æœ‰å…³é”®ç»„ä»¶éƒ½å·²æ­£ç¡®é›†æˆ
âœ… **åŠŸèƒ½æµ‹è¯•é€šè¿‡**: WhileVertexGroup æ­£å¸¸å·¥ä½œ
âœ… **ç”¨æˆ·ç•Œé¢æ›´æ–°**: æ”¯æŒæ–°çš„å·¥ä½œæµç»“æ„æ˜¾ç¤º
âœ… **æ–‡æ¡£å®Œå–„**: æä¾›è¯¦ç»†çš„ä½¿ç”¨æŒ‡å—å’ŒæŠ€æœ¯æ–‡æ¡£

## ğŸ”® åç»­å‘å±•

### è®¡åˆ’åŠŸèƒ½
- **å¤šæ¨¡æ€åˆ†æ**: æ”¯æŒå›¾åƒã€è§†é¢‘ç­‰å¤šåª’ä½“å†…å®¹åˆ†æ
- **åä½œç ”ç©¶**: æ”¯æŒå¤šç”¨æˆ·åä½œçš„æ·±åº¦ç ”ç©¶
- **æ¨¡æ¿ç³»ç»Ÿ**: é¢„å®šä¹‰çš„ç ”ç©¶æ¨¡æ¿å’Œæœ€ä½³å®è·µ

### æ€§èƒ½ä¼˜åŒ–
- **ç¼“å­˜æœºåˆ¶**: æ™ºèƒ½ç¼“å­˜åˆ†æç»“æœ
- **å¢é‡åˆ†æ**: æ”¯æŒå¢é‡æ›´æ–°å’Œåˆ†æ
- **åˆ†å¸ƒå¼æ‰§è¡Œ**: æ”¯æŒåˆ†å¸ƒå¼è®¡ç®—å’Œå¤„ç†

---

**æ€»ç»“**: Deep Research App å·²æˆåŠŸé›†æˆäº†åŸºäº WhileVertexGroup çš„æ–°å‹æ·±åº¦ç ”ç©¶å·¥ä½œæµï¼Œå®ç°äº†æ™ºèƒ½è¿­ä»£åˆ†æåŠŸèƒ½ã€‚è¿™ä¸€é›†æˆå‚è€ƒäº†ä¸šç•Œæœ€ä½³å®è·µï¼Œæ˜¾è‘—æå‡äº†åˆ†ææ·±åº¦å’Œå‡†ç¡®æ€§ï¼Œä¸ºç”¨æˆ·æä¾›äº†æ›´å¼ºå¤§ã€æ›´çµæ´»çš„ç ”ç©¶åˆ†æå·¥å…·ã€‚

*æœ¬æ¬¡é›†æˆå®Œæˆäº 2025å¹´6æœˆ29æ—¥ï¼Œæ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½å·²éªŒè¯é€šè¿‡å¹¶å¯æ­£å¸¸ä½¿ç”¨ã€‚* 